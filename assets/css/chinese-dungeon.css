
			/*或哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈*/
			/* General Styles */
			/* Welcome to Chinese Dungeon 这里是中文世界*/
			body {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: flex-start;
			height: 100vh;
			margin: 0;
			padding-top: 5vh;
			background: linear-gradient(160deg, #0a0a0a 0%, #1a1a1a 100%);
			background-color: #1a1a1a;
			overflow: hidden;
			justify-content: flex-start;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			}
			/*隐藏滚轮*/
			::-webkit-scrollbar {
			display: none;
			}
			/* 不可选中 */
			.不可选中 {
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			}
			/* Dungeon Canvas */
			#dungeonCanvas {
			border: 2px solid #2e2e2e;
			border-radius: 8px;
			box-shadow: 0 0 40px rgba(0, 0, 0, 0.6);
			margin-bottom: 5vh;
			transition: transform 0.15s ease-out;
			filter: contrast(1.1) brightness(1.1);
			}

			/* --- 游戏信息弹窗 --- */
.game-info-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    z-index: 10015; /* 确保在最上层 */
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.game-info-overlay.show {
    opacity: 1;
    pointer-events: auto;
}

.game-info-window {
    background: linear-gradient(160deg, #1e1e1e 0%, #2c2c2c 100%);
    border: 1px solid #4caf50;
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 0 50px rgba(76, 175, 80, 0.25);
    width: 90%;
    max-width: 700px;
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    color: #e0e0e0;
    transform: scale(0.95);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.game-info-overlay.show .game-info-window {
    transform: scale(1);
}

.game-info-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(76, 175, 80, 0.3);
    padding-bottom: 15px;
    margin-bottom: 20px;
    flex-shrink: 0;
}

.game-info-header h2 {
    margin: 0;
    font-size: 1.6em;
    color: #4caf50;
    text-shadow: 0 0 8px rgba(76, 175, 80, 0.5);
}

.game-info-content {
    overflow-y: auto;
    flex-grow: 1;
    padding-right: 15px; /* for scrollbar */
    line-height: 1.7;
}

.game-info-content h3 {
    font-size: 1.3em;
    color: #e0e0e0;
    border-bottom: 1px dashed #555;
    padding-bottom: 8px;
    margin-top: 20px;
    margin-bottom: 15px;
}
.game-info-content h3:first-child {
    margin-top: 0;
}

.game-info-content ul {
    list-style-type: disc;
    padding-left: 25px;
}

.game-info-content li {
    margin-bottom: 10px;
}

.info-version-tag {
    background: #4caf50;
    color: #1a1a1a;
    font-size: 0.7em;
    padding: 3px 8px;
    border-radius: 4px;
    vertical-align: middle;
    margin-left: 10px;
    font-weight: bold;
}
			#种子筛选器按钮 {
    width: 42px;
    height: 42px;
    padding: 0;
    font-size: 1.5em;
    font-family: "color-emoji";
    border-radius: 6px;
    border: 1px solid var(--ui-border-color);
    background-color: var(--ui-bg-color);
    color: var(--ui-text-color);
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    display: flex;
    align-items: center;
    justify-content: center;
}

#种子筛选器按钮:hover {
    border-color: #2196f3; /* 蓝色高亮 */
    box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
}
			#职业选择遮罩 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background: rgba(0, 0, 0, 0.7);
			backdrop-filter: blur(8px);
			z-index: 10005;
			display: flex;
			align-items: center;
			justify-content: center;
			opacity: 0;
			pointer-events: none;
			transition: none;
			animation: none;
			}
			#职业选择窗口 {
			position: absolute;
			background: linear-gradient(160deg, #1a1a1a 0%, #2a2a2a 100%);
			border: 1px solid #4caf50;
			border-radius: 12px;
			padding: 25px;
			box-shadow: 0 0 40px rgba(76, 175, 80, 0.2);
			width: 90%;
			display: flex;
			flex-direction: column;
			color: #e0e0e0;
			font-family: inherit;
			opacity: 0; /* 初始状态由 GSAP 控制 */
			visibility: hidden; /* 初始状态由 GSAP 控制 */
			transition: none;
			animation: none;
			}
			.职业选择标题 {
			font-size: 1.6em;
			color: #4caf50;
			text-shadow: 0 0 8px rgba(76, 175, 80, 0.5);
			margin: 0 0 20px 0;
			padding-bottom: 15px;
			border-bottom: 1px solid rgba(76, 175, 80, 0.3);
			text-align: center;
			}
		    .职业选择页脚 {
			display: flex;
			justify-content: space-between;
			gap: 15px;
			margin-top: 20px;
			padding-top: 20px;
			border-top: 1px solid rgba(76, 175, 80, 0.3);
			}
			.种子输入容器 {
			display: flex;
			align-items: center;
			gap: 10px;
			}
			#游戏种子输入 {
			flex-grow: 1;
			}
			#每日挑战按钮 {
			flex-shrink: 0;
			width: 42px;
			height: 42px;
			padding: 0;
			font-size: 1.5em;
			font-family: "color-emoji";
			border-radius: 6px;
			border: 1px solid var(--ui-border-color);
			background-color: var(--ui-bg-color);
			color: var(--ui-text-color);
			cursor: pointer;
			transition: all 0.2s ease-in-out;
			display: flex;
			align-items: center;
			justify-content: center;
			}
			#每日挑战按钮:hover {
			border-color: var(--ui-accent-color);
			box-shadow: 0 0 10px var(--ui-accent-glow);
			}
			.职业选项容器 {
			display: flex;
			flex-direction: row;
			align-items: center;
			overflow-x: auto;
			padding: 20px 0;
			margin: 15px -25px;
			scrollbar-width: none;
			-ms-overflow-style: none;
			scroll-snap-type: x mandatory;
			-webkit-overflow-scrolling: touch;
			}
			.职业选项容器::-webkit-scrollbar {
			display: none;
			}
			.职业按钮 {
			flex: 0 0 140px;
			padding: 20px 15px;
			margin: 0 10px;
			border: 2px solid #555;
			border-radius: 12px;
			background: rgba(255,255,255,0.05);
			color: #ccc;
			cursor: pointer;
			transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
			text-align: center;
			transform: scale(0.85);
			opacity: 0.6;
			scroll-snap-align: center;
			}
			.职业按钮:first-child {
			margin-left: calc(50% - 80px);
			}
			.职业按钮:last-child {
			margin-right: calc(50% - 80px);
			}
			.职业按钮:hover {
			transform: scale(0.9) translateY(-2px);
			}
			.职业按钮.active {
			background: rgba(76, 175, 80, 0.2);
			border-color: #4caf50;
			transform: scale(1.1) translateY(-5px);
			box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
			color: #fff;
			opacity: 1;
			}
			.职业按钮 .职业图标 {
			font-size: 3em;
			display: block;
			margin-bottom: 10px;
			color: white;
			font-family: 'color-emoji';
			transition: transform 0.4s ease;
			}
			.职业按钮.active .职业图标 {
			transform: rotate(-10deg) scale(1.1);
			}
			/*   设置窗口    */
			#设置窗口遮罩 {
			position: fixed;
			top: -2vh;
			left: 2.5vw;
			width: 95vw;
			height: 100vh;
			background: rgba(0, 0, 0, 0.7);
			backdrop-filter: blur(8px);
			z-index: 10010;
			opacity: 0;
			pointer-events: none;
			transition: opacity 0.3s ease;
			}
			#设置窗口 {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%) scale(0.95);
			background: linear-gradient(160deg, #1a1a1a 0%, #2a2a2a 100%);
			border: 1px solid #4caf50;
			border-radius: 12px;
			padding: 25px;
			box-shadow: 0 0 40px rgba(76, 175, 80, 0.2);
			width: 90%;
			max-width: 700px;
			max-height: 90vh;
			display: flex;
			flex-direction: column;
			color: #e0e0e0;
			font-family: inherit;
			transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			}
			#设置窗口遮罩.显示 #设置窗口 {
			transform: translate(-50%, -50%) scale(1);
			}
			#设置窗口遮罩.显示 {
			opacity: 1;
			pointer-events: auto;
			}
			.设置标题行 {
			display: flex;
			justify-content: space-between;
			align-items: center;
			border-bottom: 1px solid rgba(76, 175, 80, 0.3);
			padding-bottom: 15px;
			margin-bottom: 20px;
			}
			.设置标题行 .设置标题 {
			margin: 0;
			font-size: 1.6em;
			color: #4caf50;
			text-shadow: 0 0 8px rgba(76, 175, 80, 0.5);
			}
			.设置内容 {
			overflow-y: auto;
			flex-grow: 1;
			padding-right: 10px;
			}
			.设置分区 {
			margin-bottom: 25px;
			}
			.设置分区 h3 {
			font-size: 1.2em;
			color: #e0e0e0;
			border-bottom: 1px dashed #555;
			padding-bottom: 8px;
			margin-bottom: 15px;
			}
			.设置行 {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-bottom: 15px;
			padding: 8px 0;
			}
			.设置标签 {
			flex-shrink: 0;
			margin-right: 20px;
			color: #ccc;
			}
			.设置页脚 {
			padding-top: 20px;
			margin-top: 20px;
			border-top: 1px solid rgba(76, 175, 80, 0.3);
			display: flex;
			justify-content: flex-end;
			}
			.热键绑定网格 {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
			gap: 12px;
			}
			.热键绑定条目 {
			display: flex;
			align-items: center;
			justify-content: space-between;
			background: rgba(255, 255, 255, 0.05);
			padding: 8px 12px;
			border-radius: 6px;
			}
			.热键输入 {
			background: #1e1e1e;
			border: 1px solid #555;
			color: #4caf50;
			padding: 8px;
			border-radius: 4px;
			width: 100px;
			text-align: center;
			font-weight: bold;
			cursor: pointer;
			transition: all 0.2s;
			}
			.热键输入:focus,
			.热键输入.capturing {
			border-color: #4caf50;
			box-shadow: 0 0 8px rgba(76, 175, 80, 0.5);
			outline: none;
			}
			input[type="range"] {
			-webkit-appearance: none;
			appearance: none;
			width: 50%;
			height: 8px;
			background: #333;
			outline: none;
			border-radius: 4px;
			border: 1px solid #555;
			}
			input[type="range"]::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 20px;
			height: 20px;
			background: #4caf50;
			cursor: pointer;
			border-radius: 50%;
			border: 2px solid #1a1a1a;
			transition: background 0.2s;
			}
			input[type="range"]::-moz-range-thumb {
			width: 20px;
			height: 20px;
			background: #4caf50;
			cursor: pointer;
			border-radius: 50%;
			border: 2px solid #1a1a1a;
			}
			input[type="range"]:hover::-webkit-slider-thumb {
			background: #66bb6a;
			}
			input[type="range"]:active::-webkit-slider-thumb {
			box-shadow: 0 0 10px rgba(76, 175, 80, 0.7);
			}
			.设置行 span {
			width: 60px;
			text-align: left;
			color: #aaa;
			}
			.设置切换按钮 {
			position: relative;
			width: 60px;
			height: 30px;
			background-color: #333;
			border: 1px solid #555;
			border-radius: 15px;
			cursor: pointer;
			transition: background-color 0.3s;
			}
			.设置切换按钮::before {
			content: "";
			position: absolute;
			top: 3px;
			left: 4px;
			width: 22px;
			height: 22px;
			background-color: #ccc;
			border-radius: 50%;
			transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			}
			.设置切换按钮.active {
			background-color: #4caf50;
			}
			.设置切换按钮.active::before {
			transform: translateX(29px);
			background-color: #fff;
			}
			/* --- 编辑器与设置窗口UI --- */
			.重铸弹窗,
			#编辑器属性面板,
			#全局设置窗口 {
			--ui-bg-color: #2c2c2e;
			--ui-border-color: #4a4a4a;
			--ui-text-color: #e0e0e0;
			--ui-accent-color: #4caf50;
			--ui-accent-glow: rgba(76, 175, 80, 0.5);
			--ui-label-color: #aaa;
			}
			.重铸弹窗 input,
			.重铸弹窗 select,
			.重铸弹窗 textarea,
			#编辑器属性面板 input,
			#编辑器属性面板 select,
			#编辑器属性面板 textarea,
			#全局设置窗口 input,
			#全局设置窗口 select,
			#全局设置窗口 textarea {
			background-color: var(--ui-bg-color);
			border: 1px solid var(--ui-border-color);
			color: var(--ui-text-color);
			padding: 10px 12px;
			border-radius: 6px;
			font-family: inherit;
			font-size: 1em;
			width: 100%;
			box-sizing: border-box;
			transition: all 0.2s ease-in-out;
			-webkit-appearance: none;
			-moz-appearance: none;
			appearance: none;
			}
			.重铸弹窗 input:focus,
			.重铸弹窗 select:focus,
			.重铸弹窗 textarea:focus,
			#编辑器属性面板 input:focus,
			#编辑器属性面板 select:focus,
			#编辑器属性面板 textarea:focus,
			#全局设置窗口 input:focus,
			#全局设置窗口 select:focus,
			#全局设置窗口 textarea:focus {
			border-color: var(--ui-accent-color);
			box-shadow: 0 0 10px var(--ui-accent-glow);
			outline: none;
			}
			.重铸弹窗 select,
			#编辑器属性面板 select,
			#全局设置窗口 select {
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23cccccc' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
			background-repeat: no-repeat;
			background-position: right 12px center;
			background-size: 16px;
			padding-right: 40px;
			}
			.重铸弹窗 textarea,
			#编辑器属性面板 textarea,
			#全局设置窗口 textarea {
			min-height: 80px;
			resize: vertical;
			}
			.重铸弹窗 .设置项目,
			#编辑器属性面板 .设置项目,
			#全局设置窗口 .设置项目 {
			display: flex;
			flex-direction: row;
			align-items: center;
			justify-content: space-between;
			gap: 15px;
			margin-bottom: 10px;
			}
			.重铸弹窗 .设置项目 label,
			#编辑器属性面板 .设置项目 label,
			#全局设置窗口 .设置项目 label {
			flex-shrink: 0;
			color: var(--ui-label-color);
			font-size: 0.95em;
			}
			.重铸弹窗 input[type="checkbox"],
			#编辑器属性面板 input[type="checkbox"],
			#全局设置窗口 input[type="checkbox"] {
			position: relative;
			width: 22px;
			height: 22px;
			cursor: pointer;
			border-radius: 4px;
			}
			.重铸弹窗 input[type="checkbox"]::before,
			#编辑器属性面板 input[type="checkbox"]::before,
			#全局设置窗口 input[type="checkbox"]::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: var(--ui-bg-color);
			border: 1px solid var(--ui-border-color);
			border-radius: 4px;
			transition: all 0.2s ease-in-out;
			}
			.重铸弹窗 input[type="checkbox"]:checked::before,
			#编辑器属性面板 input[type="checkbox"]:checked::before,
			#全局设置窗口 input[type="checkbox"]:checked::before {
			background-color: var(--ui-accent-color);
			border-color: var(--ui-accent-color);
			}
			.重铸弹窗 input[type="checkbox"]:checked::after,
			#编辑器属性面板 input[type="checkbox"]:checked::after,
			#全局设置窗口 input[type="checkbox"]:checked::after {
			content: '✓';
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			color: white;
			font-size: 16px;
			line-height: 1;
			}
			#返回游戏模式选择按钮:hover {
			background: rgba(76, 175, 80, 0.4);
			transform: scale(1.1);
			border-color: #66bb6a;
			}
			/* --- 主菜单 --- */
			#主菜单容器 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background: linear-gradient(160deg, #0a0a0a 0%, #1a1a1a 100%);
			display: nonr;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			z-index: 10005;
			opacity: 1;
			transition: opacity 0.5s ease-out;
			color: #e0e0e0;
			font-family: "HarmonyOS Sans SC", "MiSans", system-ui,
			"color-emoji";
			overflow: scroll;
			}
			#游戏标题 {
			font-size: 5rem;
			margin-bottom: 3rem;
			color: #4caf50;
			text-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
			font-family: "Arial Black", Gadget, sans-serif;
			letter-spacing: 2px;
			animation: 标题浮动 3s ease-in-out infinite;
			}
			@keyframes 标题浮动 {
			0%,
			100% {
			transform: translateY(0);
			}
			50% {
			transform: translateY(-10px);
			}
			}
			#菜单选项 {
			display: flex;
			flex-direction: column;
			gap: 1.5rem;
			}
			.菜单按钮 {
			padding: 1rem 2.5rem;
			font-size: 1.4rem;
			border: 2px solid #4caf50;
			border-radius: 8px;
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.2),
			rgba(67, 160, 71, 0.1));
			color: #e0e0e0;
			cursor: pointer;
			transition: all 0.3s ease;
			text-align: center;
			font-family: inherit;
			}
			.菜单按钮:hover {
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.4),
			rgba(67, 160, 71, 0.3));
			transform: translateY(-3px);
			box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
			border-color: #66bb6a;
			}
			.菜单按钮:active {
			transform: translateY(1px);
			box-shadow: 0 2px 8px rgba(76, 175, 80, 0.2);
			}
			.菜单按钮:disabled {
			background: rgba(100, 100, 100, 0.2);
			border-color: #666;
			color: #888;
			cursor: not-allowed;
			transform: none;
			box-shadow: none;
			}
			#版本信息 {
			position: fixed;
			bottom: 10px;
			right: 10px;
			font-size: 0.8rem;
			color: #555;
			}
			/* --- 游戏状态控制 --- */
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #dungeonCanvas,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) .hud,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) .control-pad,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) .装备栏,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #小地图容器,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) .control-row,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #怪物指示器容器,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #浮动提示框,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) .背包弹窗,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #日志面板,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #交易窗口,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) .附魔弹窗,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) .宠物遮罩,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #教程提示窗口,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #跳过教程按钮,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #回放教程按钮,
			body:not(.游戏进行中):not(.地图编辑器模式):not(.编辑器游玩模式) #设置菜单 {
			display: none;
			opacity: 0;
			pointer-events: none;
			}
			body.游戏进行中 #主菜单容器,
			body.地图编辑器模式 #主菜单容器,
			body.编辑器游玩模式 #主菜单容器 {
			opacity: 0;
			pointer-events: none;
			}
			body.初始化 {
			display: none;
			opacity: 0;
			pointer-events: none;
			}
			body:not(.地图编辑器模式) #编辑器工具栏,
			body:not(.地图编辑器模式) #编辑器属性面板遮罩,
			body:not(.地图编辑器模式):not(.编辑器游玩模式) #返回编辑器按钮 {
			display: none;
			}
			.地图编辑器模式 .hud,
			.地图编辑器模式 #怪物指示器容器,
			.地图编辑器模式 #日志面板,
			.地图编辑器模式 #设置菜单,
			.地图编辑器模式 #hudToggle,
			.地图编辑器模式 #回放教程按钮,
			.地图编辑器模式 #跳过教程按钮,
			.地图编辑器模式 #设置按钮 {
			display: none !important;
			}
			.地图编辑器模式 #融合窗口,
			.编辑器游玩模式 #编辑器工具栏,
			.编辑器游玩模式 #编辑器属性面板遮罩 {
			display: none;
			}
			body:not(.编辑器游玩模式) #返回编辑器按钮 {
			display: none;
			}
			.编辑器游玩模式 #回放教程按钮 {
			display: none !important
			}
			body:is(.地图编辑器模式, .编辑器游玩模式) #跳过教程按钮 {
			display: none !important
			}
			/* --- HUD --- */
			.hud {
			position: absolute;
			top: 5px;
			left: 5px;
			color: white;
			background: rgba(0, 0, 0, 0.7);
			padding: 12px;
			border-radius: 8px;
			font-family: Arial;
			display: flex;
			opacity: 0;
			transition: opacity 0.3s ease;
			pointer-events: none;
			min-width: 180px;
			flex-direction: column;
			}
			.hud.可见 {
			opacity: 1;
			pointer-events: auto;
			}
			/* --- 地图实体 --- */
			.怪物图标 {
			position: absolute;
			font-size: 1.2em;
			text-shadow: 0 0 8px #ff0000;
			transition: transform 0.2s;
			}
			/* 扣血特效 */
			.扣血遮罩 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(255, 0, 0, 0.3);
			opacity: 0;
			pointer-events: none;
			animation: 扣血脉冲 0.8s ease-out;
			}
			@keyframes 扣血脉冲 {
			0% {
			opacity: 0.8;
			}
			100% {
			opacity: 0;
			}
			}
			.怪物指示器 {
			position: fixed;
			left: 0;
			top: 0;
			width: 12px;
			height: 12px;
			background: #ff4444;
			border-radius: 50%;
			box-shadow: 0 0 8px rgba(255, 68, 68, 0.8);
			pointer-events: none;
			transition: transform 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
			z-index: 1000;
			}
			/* 调整触发按钮样式 */
			#hudToggle {
			width: 6vmin;
			height: 6vmin;
			font-size: 3vmin;
			background: #2196f3;
			position: absolute;
			left: 48%;
			transform: translateX(-50%);
			bottom: 120%;
			z-index: 1000;
			}
			.hud-item {
			display: flex;
			align-items: center;
			gap: 8px;
			margin-bottom: 12px;
			/* 增加条目间距 */
			}
			.hud-icon {
			font-family: "color-emoji";
			font-size: 1.2em;
			width: 24px;
			text-align: center;
			}
			.hud-bar-container {
			position: relative;
			flex-grow: 1;
			height: 14px;
			margin-top: 4px;
			/* 进度条与图标间距 */
			height: 18px;
			/* 增大容器高度 */
			}
			.health-bar {
			background: linear-gradient(to right, #ff4444, #ff7676);
			}
			.power-bar {
			background: linear-gradient(to right, #1554db, #2c73f7);
			}
			.hud-label {
			color: #4caf50;
			font-size: 0.9em;
			}
			.怪物数量警告 {
			color: #ff4444;
			}
			.界面文本行 {
			color: #4caf50;
			font-size: 0.9em;
			display: flex;
			justify-content: space-between;
			}
			.进度条标签 {
			position: absolute;
			left: 4px;
			/* 改为左侧定位 */
			white-space: nowrap;
			bottom: 1px;
			color: rgba(255, 255, 255, 0.9);
			font-size: 0.75em;
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
			z-index: 2;
			/* 确保文字在上层 */
			}
			.hud-bar {
			position: relative;
			height: 100%;
			border-radius: 4px;
			transition: width 0.3s ease;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
			}
			@keyframes 进度条呼吸 {
			0% {
			opacity: 0.9;
			}
			50% {
			opacity: 0.7;
			}
			100% {
			opacity: 0.9;
			}
			}
			.低数值警告 {
			animation: 进度条呼吸 1.5s ease infinite;
			}
			/* --- Control Panel --- */
			.control-pad {
    position: fixed;
    pointer-events: none;
    left: 2vw;
    bottom: 220px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}
			#方向键容器 {
			position: fixed;
			left: 20px;
			top: 50%;
			display: flex;
			gap: 1rem;
			}
			.control-row {
			display: flex;
			justify-content: center;
			margin: 5px 0;
			gap: 1.2rem;
			}
			.control-btn {
			font-family: "color-emoji";
			pointer-events: auto;
			width: 13vmin;
			height: 13vmin;
			border-radius: 3vmin;
			margin: 0 2px;
			font-size: 4vmin;
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.9) 30%,
			rgba(67, 160, 71, 0.9) 100%);
			transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3);
			color: white;
			border: 2px solid #fff;
			opacity: 0.95;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			}
			.control-btn:active {
			background: #45a049;
			transform: scale(0.9);
			box-shadow: 0 0 5px rgba(76, 175, 80, 0.8);
			}
			#upBtn {
			margin-bottom: -12px;
			z-index: 2;
			}
			#leftBtn,
			#rightBtn {
			margin-left: -64px;
			margin: 0 1rem;
			}
			#downBtn {
			margin-top: -12px;
			z-index: 1;
			}
			#背包按钮 {
			/* Backpack Button */
			background: #2196f3;
			box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
			}
			/* --- Inventory (背包) --- */
			.背包弹窗 {
			/* Inventory Popup */
			position: fixed;
			bottom: -1200px;
			left: 50%;
			transform: translateX(-50%);
			width: 80vmin;
			background: rgba(0, 0, 0, 0.9);
			border-radius: 12px;
			padding: 15px;
			transition: bottom 0.3s ease;
			z-index: 1001;
			max-height: 50vh;
			display: flex;
			flex-direction: column;
			}
			.背包弹窗.显示中 {
			bottom: 17vh;
			}
			.弹窗头部 {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 10px;
			}
			.弹窗头部 h3 {
			color: #4caf50;
			margin: 0;
			font-size: 1.2em;
			}
			.关闭按钮 {
			background: transparent;
			border: none;
			color: white;
			font-size: 1.5em;
			cursor: pointer;
			padding: 8px;
			}
			.物品容器 {
			flex: 1;
			overflow-y: auto;
			padding: 5px;
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
			gap: 8px;
			}
			.物品条目 {
			position: relative;
			border-radius: 8px;
			padding: 12px;
			cursor: pointer;
			transition: all 0.2s;
			}
			.hover:hover {
			background: rgba(255, 255, 255, 0.2);
			transform: translateY(-2px);
			}
			.物品图标 {
			font-family: "color-emoji";
			font-size: 2em;
			text-align: center;
			margin-bottom: 8px;
			filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
			transition: transform 0.3s;
			}
			.汉字图标 {
			font-family: "Microsoft YaHei", sans-serif;
			font-weight: bold;
			font-size: 1.2em;
			}
			.hover:hover .物品图标 {
			transform: scale(1.2) rotate(-15deg);
			}
			.物品名称 {
			font-size: 0.9em;
			text-align: center;
			color: #fff;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			}
			.物品堆叠 {
			position: absolute;
			bottom: 5px;
			right: 5px;
			background: linear-gradient(45deg,
			rgba(0, 0, 0, 0.6),
			rgba(50, 50, 50, 0.8));
			color: #fff;
			padding: 2px 6px;
			border-radius: 10px;
			font-size: 0.7em;
			font-weight: bold;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
			}
			.装备按钮,
			.上屏按钮,
			.丢弃按钮,
			.使用按钮 {
			font-family: "color-emoji";
			position: absolute;
			width: 24px;
			height: 24px;
			border-radius: 50%;
			border: none;
			color: white;
			cursor: pointer;
			opacity: 0;
			transition: all 0.3s;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 16px;
			padding: 0;
			z-index: 1;
			pointer-events: none;
			}
			.物品条目:hover .装备按钮,
			.物品条目:hover .丢弃按钮,
			.物品条目:hover .上屏按钮,
			.物品条目:hover .使用按钮,
			.物品条目.active .装备按钮,
			.物品条目.active .丢弃按钮,
			.物品条目.active .上屏按钮,
			.物品条目.active .使用按钮 {
			opacity: 1;
			pointer-events: auto;
			}
			.装备按钮 {
			bottom: 3px;
			left: 3px;
			background: linear-gradient(145deg, #ffb74d, #ff9800);
			/* 橙色渐变 */
			}
			.装备按钮:hover {
			background: linear-gradient(145deg, #ffa726, #fb8c00);
			box-shadow: 0 2px 6px rgba(255, 152, 0, 0.4);
			}
			.上屏按钮 {
			bottom: 3px;
			right: 3px;
			background: linear-gradient(145deg, #4fc3f7, #29b6f6);
			}
			.丢弃按钮 {
			top: 3px;
			right: 3px;
			background: linear-gradient(145deg, #bdbdbd, #9e9e9e);
			/* 灰色渐变 */
			}
			.丢弃按钮:hover {
			background: linear-gradient(145deg, #aeaeae, #8e8e8e);
			box-shadow: 0 2px 6px rgba(158, 158, 158, 0.4);
			}
			.使用按钮 {
			top: 3px;
			left: 3px;
			background: linear-gradient(145deg, #81c784, #4caf50);
			/* 绿色渐变 */
			}
			.使用按钮:hover {
			background: linear-gradient(145deg, #66bb6a, #43a047);
			box-shadow: 0 2px 6px rgba(76, 175, 80, 0.4);
			}
			.物品条目:hover .装备按钮,
			.物品条目:hover .丢弃按钮,
			.物品条目:hover .上屏按钮,
			.物品条目:hover .使用按钮 {
			opacity: 1;
			}
			.物品条目.active .物品图标 {
			transform: scale(1.2) rotate(-15deg);
			}
			.冷却标签 {
			position: absolute;
			bottom: 2px;
			background: rgba(0, 0, 0, 0.7);
			color: #fff;
			padding: 2px 5px;
			border-radius: 3px;
			font-size: 0.8em;
			}
			.耐久标签 {
			position: absolute;
			bottom: 2px;
			background: rgba(0, 0, 0, 0.7);
			color: #fff;
			padding: 2px 5px;
			border-radius: 3px;
			font-size: 0.8em;
			z-index: 2;
			}
			/* 怪物血条 */
			.怪物血条 {
			position: fixed;
			height: 4px;
			background: rgba(0, 0, 0, 0.5);
			border-radius: 2px;
			pointer-events: none;
			z-index: 100;
			}
			.血条背景 {
			height: 100%;
			background: #444;
			}
			.当前血量 {
			height: 100%;
			background: #f00;
			transition: width 0.3s;
			}
			/* 死亡动画 */
			.骷髅图标 {
			font-family: "color-emoji";
			font-size: 80px;
			animation: 骷髅抖动 1s infinite;
			}
			.死亡文字 {
			color: white;
			font-size: 40px;
			text-shadow: 0 0 10px red;
			margin-top: 20px;
			}
			.重生选项 {
			margin-top: 20px;
			display: flex;
			flex-direction: column;
			gap: 15px;
			}
			.重生按钮 {
			font-family: "color-emoji";
			padding: 12px 24px;
			font-size: 18px;
			border: 2px solid #fff;
			border-radius: 8px;
			background: rgba(255, 255, 255, 0.1);
			color: white;
			cursor: pointer;
			transition: all 0.3s;
			}
			.重生按钮:hover {
			background: rgba(255, 255, 255, 0.3);
			transform: scale(1.05);
			}
			.死亡内容 {
			text-align: center;
			animation: 死亡浮现 1s ease-out;
			}
			#死亡遮罩 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background: linear-gradient(45deg,
			rgba(20, 0, 0, 0.9) 0%,
			rgba(60, 0, 0, 0.95) 100%);
			backdrop-filter: blur(10px);
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 10007;
			animation: 界面浮现 0.8s cubic-bezier(0.4, 0, 0.2, 1);
			}
			@keyframes 界面浮现 {
			from {
			opacity: 0;
			transform: translateY(20px);
			}
			to {
			opacity: 1;
			transform: translateY(0);
			}
			}
			.死亡内容容器 {
			font-family: "color-emoji";
			background: rgba(10, 0, 0, 0.8);
			border: 2px solid #ff444480;
			border-radius: 16px;
			padding: 40px 60px;
			box-shadow: 0 0 40px rgba(255, 50, 50, 0.3);
			text-align: center;
			}
			.骷髅容器 {
			position: relative;
			margin-bottom: 30px;
			}
			.动态骷髅 {
			font-size: 6rem;
			text-shadow: 0 0 30px #ff0000;
			animation: 骷髅呼吸 2s ease-in-out infinite;
			display: inline-block;
			}
			@keyframes 骷髅呼吸 {
			0% {
			transform: scale(1) rotate(-5deg);
			opacity: 0.9;
			}
			50% {
			transform: scale(1.1) rotate(5deg);
			opacity: 1;
			}
			100% {
			transform: scale(1) rotate(-5deg);
			opacity: 0.9;
			}
			}
			.重生选项 {
			font-family: "color-emoji";
			display: grid;
			gap: 20px;
			margin-top: 30px;
			}
			.重生按钮 {
			font-family: "color-emoji";
			padding: 16px 32px;
			font-size: 1.2rem;
			border: none;
			border-radius: 8px;
			cursor: pointer;
			transition: all 0.3s ease;
			background: linear-gradient(145deg,
			rgba(100, 0, 0, 0.8),
			rgba(150, 0, 0, 0.6));
			color: #fff;
			position: relative;
			overflow: hidden;
			border: 1px solid #ff4444;
			}
			.重生按钮::before {
			content: "";
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg,
			transparent,
			rgba(255, 255, 255, 0.2),
			transparent);
			transition: 0.5s;
			}
			.重生按钮:hover::before {
			left: 100%;
			}
			.重生按钮:hover {
			transform: translateY(-2px);
			box-shadow: 0 4px 20px rgba(255, 50, 50, 0.4);
			}
			.重生按钮:active {
			transform: translateY(1px);
			}
			#重新开始 {
			background: linear-gradient(145deg,
			rgba(50, 50, 50, 0.8),
			rgba(30, 30, 30, 0.6));
			border-color: #666;
			}
			@keyframes 粒子飘落 {
			0% {
			transform: translate(0, 0) scale(1);
			opacity: 0.8;
			}
			100% {
			transform: translate(calc(var(--random) * 100 - 50) px,
			100vh) scale(0);
			opacity: 0;
			}
			}
			/* 添加点击态样式 */
			.物品条目.active {
			background: rgba(255, 255, 255, 0.2) !important;
			transform: translateY(-2px) !important;
			}
			.物品条目.active .装备按钮,
			.物品条目.active .丢弃按钮,
			.物品条目.active .上屏按钮,
			.物品条目.active .使用按钮 {
			opacity: 1 !important;
			}
			.物品条目[data-quality="1"] {
			border: 1px solid #00ff00;
			}
			.物品条目[data-quality="2"] {
			border: 1px solid #0000ff;
			}
			.物品条目[data-quality="3"] {
			border: 1px solid #ffff00;
			}
			.物品条目[data-quality="4"] {
			animation: 紫光脉动 2s infinite;
			}
			@keyframes 紫光脉动 {
			0%,
			100% {
			box-shadow: 0 0 12px rgba(224, 64, 251, 0.3);
			}
			50% {
			box-shadow: 0 0 24px rgba(224, 64, 251, 0.6);
			}
			}
			.物品条目[data-quality="5"] {
			animation: 红光脉动 2s infinite;
			}
			@keyframes 红光脉动 {
			0%,
			100% {
			box-shadow: 0 0 12px #ff0000;
			}
			50% {
			box-shadow: 0 0 24px #ff0000;
			}
			}
			.装备栏 {
			position: fixed;
			bottom: 10px;
			width: 30%;
			min-width: 400px;
			background: rgba(0, 0, 0, 0.7);
			padding: 10px;
			border-radius: 12px;
			display: flex;
			justify-content: center;
			gap: 1vw;
			z-index: 1000;
			transition: opacity 0.3s ease;
			}
			.装备槽 {
			flex: 1;
			aspect-ratio: 1 / 1;
			max-width: 80px;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 8px;
			position: relative;
			overflow: hidden;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: all 0.2s;
			}
			.冷却遮罩 {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.7);
			clip-path: inset(0 0 100% 0);
			transition: clip-path 0.22s linear;
			pointer-events: none;
			}
			.装备槽 .物品条目 {
			transform: scale(0.65);
			margin: -5px 0;
			}
			.装备槽:hover {
			background: rgba(255, 255, 255, 0.2);
			}
			/* --- Staircase (楼梯) --- */
			.楼梯 {
			background-color: #4a4a4a;
			font-size: 1.5em;
			text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
			}
			/* --- Tooltip (浮动提示框) --- */
			#浮动提示框 {
			/* Tooltip */
			position: absolute;
			background: rgba(0, 0, 0, 0.9);
			color: white;
			padding: 10px;
			border-radius: 6px;
			font-family: Arial;
			font-size: 12px;
			max-width: 200px;
			pointer-events: none;
			z-index: 1002;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
			display: none;
			line-height: 1.4;
			}
			#浮动提示框 br {
			margin: 4px 0;
			content: "";
			display: block;
			}
			/* --- Level Transition (楼层过渡遮罩) --- */
			.楼层过渡遮罩 {
			/* Level Transition Overlay */
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: black;
			opacity: 0;
			pointer-events: none;
			transition: opacity 0.5s ease;
			z-index: 10001;
			display: flex;
			align-items: center;
			justify-content: center;
			}
			.层数标题 {
			/* Level Number Title */
			color: #ffffff;
			font-size: 4em;
			text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
			opacity: 0;
			transform: scale(3);
			transition: all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
			font-family: "Arial Black", sans-serif;
			letter-spacing: 4px;
			}
			/* --- Notifications (通知) --- */
			.通知容器 {
			/* Notification Container */
			position: fixed;
			top: 20px;
			left: 50%;
			transform: translateX(-50%);
			z-index: 9999999;
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 10px;
			font-family: Arial, "微软雅黑";
			}
			.通知条目 {
			/* Notification Item */
			background: rgba(40, 40, 40, 0.95);
			color: #e0e0e0;
			padding: 12px 24px;
			border-radius: 6px;
			min-width: 280px;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
			border-left: 4px solid;
			opacity: 0;
			transform: translateY(-30px);
			animation: 通知入场 0.3s ease-out forwards;
			transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
			opacity 0.2s linear;
			display: flex;
			align-items: center;
			gap: 12px;
			backdrop-filter: blur(5px);
			}
			.通知条目.离场 {
			/* Leaving Notification */
			animation: 通知离场 0.3s ease-in forwards;
			transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
			opacity 0.2s linear;
			}
			@keyframes 通知入场 {
			to {
			opacity: 1;
			transform: translateY(0);
			}
			}
			@keyframes 通知离场 {
			to {
			opacity: 0;
			transform: translateY(-20px) scale(0.95);
			}
			}
			.通知条目.成功 {
			border-color: #4caf50;
			}
			.通知条目.警告 {
			border-color: #ff9800;
			}
			.通知条目.错误 {
			border-color: #f44336;
			}
			.通知条目.信息 {
			border-color: #2196f3;
			}
			.通知图标 {
			font-family: "color-emoji";
			width: 24px;
			height: 24px;
			flex-shrink: 0;
			}
			.关闭按钮 {
			font-family: "color-emoji";
			background: none;
			border: none;
			color: #888;
			cursor: pointer;
			margin-left: auto;
			padding-left: 20px;
			transition: color 0.2s;
			}
			.关闭按钮:hover {
			color: #fff;
			}
			/* --- Responsive Design --- */
			#小地图容器 {
			position: fixed;
			bottom: 160px;
			right: 20px;
			mix-blend-mode: lighten;
			transition: opacity 0.3s ease;
			}
			#小地图容器:hover {
			mix-blend-mode: normal;
			}
			#跳过教程按钮 {
			font-size: 0.8em;
			display: block;
			position: fixed;
			top: 185px;
			right: 22px;
			height: 5vmin;
			width: 20vmin;
			}
.control-pad-actions {
    position: fixed;
    pointer-events: none;
    left: 9vw;
    bottom: 100px;
    display: flex;
    flex-direction: column;
}
.settings-container {
    position: fixed;
    right: 23px;
    bottom: 80px;
    display: flex;
}
@media (min-width: 769px) {
    .control-pad {
        
        bottom: 40px;
        }
    .control-pad-actions {
        right: 2vw;
        left: auto;
        top: 42%;
        bottom: auto;
        transform: translateY(-50%);
    }
    .settings-container {
        right: 2vw;
        left: auto;
        
        bottom: 5px;
    }
    body:not(.手机模式启用) .control-pad,
    body:not(.手机模式启用) .control-pad-actions,
    body:not(.手机模式启用) .settings-container {
        display: none;
    }
    #小地图容器 {
        position: fixed;
        bottom: 13vmin;
        right: 20px;
        transform: none;
    }
    #跳过教程按钮 { top: 75px; }
    #回放教程按钮 { top: 15px; }
}
@media (max-width: 768px) {
    #跳过教程按钮 {
    top: 40px;
    }
    #回放教程按钮 {
    top: 10px;
    }
}


body.手机模式启用 .control-pad,
body.手机模式启用 .control-pad-actions,
body.手机模式启用 .settings-container {
    display: flex;
}
body.方向键隐藏 .control-pad {
    display: none !important;
}
			canvas {
			mix-blend-mode: lighten;
			}
			/* 烟花动画 */
			@keyframes 烟花炸裂 {
			0% {
			transform: translate(0, 0) scale(1);
			opacity: 1;
			}
			100% {
			transform: translate(calc(var(--tx) * 100px),
			calc(var(--ty) * 100px)) scale(0);
			opacity: 0;
			}
			}
			.烟花粒子 {
			font-family: "color-emoji";
			position: fixed;
			z-index: 99999;
			font-size: 1.2em;
			animation: 烟花炸裂 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
			pointer-events: none;
			}
			@keyframes 收集脉冲 {
			0% {
			transform: scale(0);
			opacity: 0;
			}
			50% {
			transform: scale(1.2);
			opacity: 1;
			text-shadow: 0 0 30px var(--辉光颜色),
			0 0 40px var(--辉光颜色);
			}
			100% {
			transform: scale(1);
			opacity: 0;
			text-shadow: 0 0 10px var(--辉光颜色),
			0 0 20px var(--辉光颜色);
			}
			}
			.收集特效 {
			font-family: "color-emoji";
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			font-size: 3em;
			z-index: 99998;
			animation: 收集脉冲 1.1s ease-out forwards;
			text-shadow: 0 0 10px var(--辉光颜色);
			}
			/*卷轴类待点击动画*/
			.卷轴闪烁 {
			animation: 卷轴脉冲 0.8s ease-in-out infinite;
			position: relative;
			}
			@keyframes 卷轴脉冲 {
			0% {
			box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
			background: rgba(255, 215, 0, 0.1);
			}
			50% {
			box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
			background: rgba(255, 215, 0, 0.3);
			}
			100% {
			box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
			background: rgba(255, 215, 0, 0.1);
			}
			}
			.卷轴闪烁::after {
			content: "";
			position: absolute;
			top: -5px;
			left: -5px;
			right: -5px;
			bottom: -5px;
			border-radius: 8px;
			background: linear-gradient(45deg,
			rgba(255, 215, 0, 0.3) 0%,
			rgba(255, 215, 0, 0.1) 50%,
			rgba(255, 215, 0, 0.3) 100%);
			z-index: -1;
			animation: 光晕扩散 1.2s infinite;
			}
			@keyframes 光晕扩散 {
			0% {
			opacity: 0.8;
			}
			100% {
			opacity: 0;
			}
			}
			/* 日志容器 */
			.日志面板 {
			position: fixed;
			right: 20px;
			bottom: -600px;
			width: 250px;
			height: 200px;
			background: rgba(0, 0, 0, 0.9);
			border-radius: 8px;
			padding: 12px;
			transition: bottom 0.3s ease;
			color: #c0c0c0;
			display: flex;
			flex-direction: column;
			}
			.日志内容 {
			flex: 1;
			overflow-y: auto;
			font-size: 0.9em;
			line-height: 1.4;
			scrollbar-width: thin;
			scrollbar-color: #4caf50 #2a2a2a;
			}
			.日志面板.可见 {
			bottom: 135px;
			}
			.日志内容 .成功 {
			color: green;
			}
			.日志内容 .错误 {
			color: red;
			}
			.日志内容 .警告 {
			color: yellow;
			}
			/* 滚动条样式 */
			.日志内容::-webkit-scrollbar {
			width: 6px;
			}
			.日志内容::-webkit-scrollbar-track {
			background: #2a2a2a;
			}
			.日志内容::-webkit-scrollbar-thumb {
			background: #4caf50;
			border-radius: 3px;
			}
			@keyframes 爆炸闪烁 {
			0% {
			transform: scale(0);
			opacity: 1;
			}
			50% {
			transform: scale(1.2);
			opacity: 0.8;
			}
			100% {
			transform: scale(1);
			opacity: 0;
			}
			}
			/* --- NPC-------流浪奸商 --- */
			#交易窗口 {
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			width: 85%;
			max-width: 500px;
			background: linear-gradient(145deg,
			rgba(20, 20, 20, 0.95),
			rgba(40, 40, 40, 0.98));
			border: 2px solid #4caf50;
			border-radius: 12px;
			box-shadow: 0 5px 25px rgba(0, 0, 0, 0.7);
			color: #e0e0e0;
			z-index: 1001;
			backdrop-filter: blur(5px);
			animation: 弹窗浮现 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			display: none;
			flex-direction: column;
			transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
			max-height: 80vh;
			}
			.重铸弹窗.关闭中 {
			opacity: 0;
			transform: translate(-50%, -50%) scale(0.9);
			pointer-events: none;
			}
			#交易窗口.关闭中 {
			opacity: 0;
			transform: translate(-50%, -50%) scale(0.9);
			pointer-events: none;
			}
			.窗口标题 {
			padding: 15px 20px;
			font-size: 1.3em;
			color: #4caf50;
			border-bottom: 1px solid rgba(76, 175, 80, 0.3);
			text-shadow: 0 0 5px rgba(76, 175, 80, 0.4);
			text-align: center;
			font-weight: bold;
			flex-shrink: 0;
			}
			.库存列表 {
			display: grid;
			gap: 12px;
			padding: 20px;
			overflow-y: auto;
			flex-grow: 1;
			}
			.交易物品条目 {
			background: rgba(255, 255, 255, 0.05);
			padding: 15px;
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 8px;
			cursor: pointer;
			transition: all 0.2s ease;
			display: flex;
			flex-direction: column;
			gap: 8px;
			}
			.交易物品条目 .物品头 {
			display: flex;
			justify-content: flex-start;
			align-items: center;
			font-weight: bold;
			}
			.交易物品条目 .物品描述 {
			font-size: 0.85em;
			color: #aaa;
			line-height: 1.4;
			}
			.交易物品条目:hover {
			border-color: #4caf50;
			background: rgba(76, 175, 80, 0.15);
			transform: translateY(-2px);
			box-shadow: 0 3px 10px rgba(76, 175, 80, 0.2);
			}
			.物品价格 {
			color: #ffd700;
			font-size: 0.9em;
			font-weight: bold;
			white-space: nowrap;
			margin-left: 10px;
			}
			.交易底部 {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 15px 20px;
			border-top: 1px solid rgba(76, 175, 80, 0.3);
			background: rgba(0, 0, 0, 0.2);
			flex-shrink: 0;
			}
			.玩家金币 {
			color: #ffd700;
			font-weight: bold;
			}
			#交易窗口 .按钮 {
			padding: 8px 20px;
			font-size: 1em;
			border: 2px solid #4caf50;
			border-radius: 6px;
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.4),
			rgba(67, 160, 71, 0.3));
			color: #e0e0e0;
			cursor: pointer;
			transition: all 0.3s ease;
			font-family: inherit;
			}
			#交易窗口 .按钮:hover {
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.6),
			rgba(67, 160, 71, 0.5));
			transform: translateY(-2px);
			box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
			border-color: #66bb6a;
			}
			#交易窗口 .按钮:active {
			transform: translateY(0px);
			box-shadow: 0 2px 5px rgba(76, 175, 80, 0.2);
			}
			/* --- NPC-------探险家收购 --- */
			#收购窗口 {
			display: none;
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			width: 90%;
			max-width: 700px;
			background: linear-gradient(145deg,
			rgba(20, 20, 20, 0.95),
			rgba(40, 40, 40, 0.98));
			border: 2px solid #ff9800;
			border-radius: 12px;
			box-shadow: 0 5px 25px rgba(0, 0, 0, 0.7);
			color: #e0e0e0;
			z-index: 1001;
			backdrop-filter: blur(5px);
			animation: 弹窗浮现 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			flex-direction: column;
			max-height: 85vh;
			}
			#收购窗口.关闭中 {
			opacity: 0;
			transform: translate(-50%, -50%) scale(0.9);
			pointer-events: none;
			}
			#收购窗口 .窗口标题 {
			color: #ff9800;
			border-bottom: 1px solid rgba(255, 152, 0, 0.3);
			text-shadow: 0 0 5px rgba(255, 152, 0, 0.4);
			padding: 15px 20px;
			font-size: 1.3em;
			text-align: center;
			font-weight: bold;
			flex-shrink: 0;
			}
			.收购内容 {
			display: flex;
			flex-grow: 1;
			overflow: hidden;
			padding: 15px;
			gap: 15px;
			}
			.收购物品列表,
			.玩家背包预览 {
			flex: 1;
			display: flex;
			flex-direction: column;
			background: rgba(255, 255, 255, 0.03);
			border-radius: 8px;
			padding: 10px;
			overflow: hidden;
			}
			.收购物品列表 h4,
			.玩家背包预览 h4 {
			margin-bottom: 10px;
			text-align: center;
			color: #ffcc80;
			flex-shrink: 0;
			padding-bottom: 5px;
			border-bottom: 1px dashed rgba(255, 152, 0, 0.2);
			}
			#收购需求列表,
			#玩家可售列表 {
			align-content: start;
			padding: 10px 5px;
			overflow-y: auto;
			flex-grow: 1;
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
			gap: 8px;
			}
			.收购需求条目,
			.玩家可售条目 {
			background: rgba(255, 255, 255, 0.05);
			padding: 10px;
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 6px;
			transition: all 0.2s ease;
			text-align: center;
			}
			.玩家可售条目 {
			cursor: pointer;
			}
			.收购需求条目 .需求图标,
			.玩家可售条目 .物品图标 {
			font-size: 1.8em;
			display: block;
			margin-bottom: 5px;
			font-family: "color-emoji";
			}
			.玩家可售条目 .物品图标 {
			text-shadow: 0 0 5px currentColor;
			}
			.收购需求条目 .需求名称,
			.玩家可售条目 .物品名称 {
			font-size: 0.85em;
			display: block;
			margin-bottom: 5px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			}
			.收购需求条目 .需求价格,
			.玩家可售条目 .出售价格 {
			font-size: 0.9em;
			color: #ffd700;
			font-weight: bold;
			display: block;
			}
			.玩家可售条目:hover {
			border-color: #ff9800;
			background: rgba(255, 152, 0, 0.15);
			transform: translateY(-2px);
			box-shadow: 0 3px 10px rgba(255, 152, 0, 0.2);
			}
			#收购窗口 .交易底部 {
			border-top: 1px solid rgba(255, 152, 0, 0.3);
			}
			#收购窗口 .玩家金币 {
			color: #ffd700;
			font-weight: bold;
			}
			#收购窗口 .按钮 {
			padding: 8px 20px;
			font-size: 1em;
			border: 2px solid #ff9800;
			border-radius: 6px;
			background: linear-gradient(145deg,
			rgba(255, 152, 0, 0.4),
			rgba(245, 124, 0, 0.3));
			color: #e0e0e0;
			cursor: pointer;
			transition: all 0.3s ease;
			font-family: inherit;
			}
			#收购窗口 .按钮:hover {
			background: linear-gradient(145deg,
			rgba(255, 152, 0, 0.6),
			rgba(245, 124, 0, 0.5));
			transform: translateY(-2px);
			box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
			border-color: #ffb74d;
			}
			#收购窗口 .按钮:active {
			transform: translateY(0px);
			box-shadow: 0 2px 5px rgba(255, 152, 0, 0.2);
			}
			/* 附魔系统 */
			.附魔弹窗 {
			font-family: "color-emoji";
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			background: linear-gradient(45deg, #2a0a3a 0%, #1a1a2f 100%);
			border: 2px solid #634b7d;
			border-radius: 12px;
			padding: 20px;
			box-shadow: 0 0 40px #6b2fa070;
			z-index: 10000;
			min-width: 400px;
			max-width: 90vw;
			backdrop-filter: blur(5px);
			animation: 弹窗浮现 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
			}
			.附魔弹窗.关闭中 {
			opacity: 0;
			transform: translate(-50%, -50%) scale(0.9);
			pointer-events: none;
			}
			@keyframes 弹窗浮现 {
			from {
			opacity: 0;
			transform: translate(-50%, -45%) scale(0.9);
			/* 初始缩小并偏移 */
			}
			to {
			opacity: 1;
			transform: translate(-50%, -50%) scale(1);
			/* 恢复原大小和位置 */
			}
			}
			.附魔头 {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 20px;
			padding-bottom: 15px;
			border-bottom: 1px solid #4a3560;
			}
			.附魔标题 {
			color: #c792ea;
			font-size: 1.4em;
			text-shadow: 0 0 10px #c792ea80;
			font-family: "微软雅黑", sans-serif;
			}
			.附魔装备容器 {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
			gap: 15px;
			max-height: 60vh;
			overflow-y: auto;
			padding: 10px;
			margin-bottom: 20px;
			}
			.可附魔 {
			cursor: pointer;
			transition: all 0.3s;
			position: relative;
			overflow: hidden;
			background: #2d1b3c;
			border-radius: 8px;
			padding: 15px;
			border: 1px solid #4a3560;
			}
			.可附魔:hover {
			transform: translateY(-3px);
			box-shadow: 0 0 25px #c792ea80;
			background: #3a254d;
			}
			.可附魔:hover .物品图标 {
			animation: 装备浮动 1.5s ease-in-out infinite;
			}
			@keyframes 装备浮动 {
			0% {
			transform: translateY(0);
			}
			50% {
			transform: translateY(-5px);
			}
			100% {
			transform: translateY(0);
			}
			}
			.附魔特效 {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			pointer-events: none;
			}
			.魔幻粒子 {
			will-change: transform, opacity;
			filter: blur(2px);
			mix-blend-mode: screen;
			position: absolute;
			width: var(--size);
			height: var(--size);
			border-radius: 50%;
			background: hsla(var(--hue), 80%, var(--lightness), 0.8);
			transition: all 0.3s;
			animation: 粒子脉动 1.2s var(--delay) both,
			光晕闪烁 1.4s var(--delay) linear infinite;
			}
			@keyframes 粒子脉动 {
			0% {
			opacity: 1;
			transform: translate(0, 0) scale(0.3);
			}
			100% {
			opacity: 0;
			transform: translate(var(--target-x), var(--target-y)) scale(0.2);
			}
			}
			@keyframes 光晕闪烁 {
			0%,
			100% {
			box-shadow: 0 0 15px 3px hsl(var(--hue), 100%, 60%);
			}
			50% {
			box-shadow: 0 0 25px 6px hsl(var(--hue), 100%, 70%);
			}
			}
			.附魔确认按钮 {
			background: linear-gradient(145deg, #c792ea, #9c27b0);
			color: white;
			border: none;
			padding: 12px 24px;
			border-radius: 6px;
			cursor: pointer;
			transition: all 0.3s;
			font-size: 1.1em;
			margin-top: 20px;
			display: block;
			width: 100%;
			}
			.附魔确认按钮:hover {
			transform: scale(1.05);
			box-shadow: 0 0 20px #c792ea80;
			}
			/* 关闭按钮优化 */
			.附魔弹窗 .关闭按钮 {
			background: none;
			border: none;
			color: #c792ea;
			font-size: 1.8em;
			cursor: pointer;
			transition: all 0.3s;
			padding: 5px;
			line-height: 1;
			}
			.附魔弹窗 .关闭按钮:hover {
			color: #ff4081;
			transform: rotate(90deg);
			}
			/* 移动端适配 */
			@media (max-width: 768px) {
			.附魔弹窗 {
			min-width: 300px;
			padding: 15px;
			}
			.附魔标题 {
			font-size: 1.2em;
			}
			.附魔装备容器 {
			grid-template-columns: repeat(2, 1fr);
			}
			}
			/* 状态提示动画 */
			@keyframes 成功闪光 {
			0% {
			background-color: #4caf5050;
			}
			50% {
			background-color: #4caf5020;
			}
			100% {
			background-color: transparent;
			}
			}
			.附魔成功 {
			animation: 成功闪光 1.5s ease-out;
			}
			.重铸弹窗 {
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			background: #1a1a1ae6;
			border: 2px solid #4a4a4a;
			border-radius: 12px;
			padding: 20px;
			width: 80vmin;
			max-width: 600px;
			color: #e0e0e0;
			z-index: 10000;
			box-shadow: 0 0 30px #00000080;
			animation: 弹窗浮现 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			transition: opacity 0.3s ease,
			transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
			}
			.重铸弹窗-header {
			display: flex;
			justify-content: space-between;
			margin-bottom: 15px;
			border-bottom: 1px solid #444;
			padding-bottom: 10px;
			}
			.重铸弹窗-column {
			flex: 1;
			padding: 10px;
			}
			.重铸弹窗-items {
			display: grid;
			grid-template-rows: repeat(auto-fill, minmax(100px, 1fr));
			max-height: 50vh;
			overflow-y: scroll;
			gap: 10px;
			}
			#传送点列表容器 {
			grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
			}
			.重铸物品 {
			border: 1px solid #444;
			padding: 10px;
			border-radius: 8px;
			cursor: pointer;
			transition: all 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
			transform-origin: center;
			position: relative;
			}
			.重铸物品.selected {
			border-color: #4caf50;
			background: #2b2b2b;
			transform: scale(1.1);
			z-index: 1;
			}
			.重铸台耐久标签 {
			font-size: 0.8em;
			color: #888;
			}
			.重铸物品:hover {
			transform: translateY(-3px) scale(1.05);
			box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
			}
			.重铸遮罩 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.5);
			backdrop-filter: blur(3px);
			z-index: 9999;
			}
			#repairCost {
			font-family: "Arial Black";
			text-shadow: 0 0 5px currentColor;
			transition: color 0.3s ease;
			}
			/* 强化标识 */
			.重铸台强化标识 {
			position: absolute;
			top: 2px;
			right: 2px;
			color: #ffd700;
			font-size: 0.8em;
			text-shadow: 0 0 3px #ffd700;
			}
			/*------小地图-------*/
			#小地图 {
			position: relative;
			right: 10px;
			border: 2px solid #4caf50;
			border-radius: 8px;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
			background: rgba(0, 0, 0, 0.9);
			z-index: 999;
			image-rendering: pixelated;
			}
			#小地图:hover {
			mix-blend-mode: normal;
			}
			.宠物管理窗口 {
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			background: #1a1a1ae6;
			border: 2px solid #4a4a4a;
			border-radius: 12px;
			padding: 20px;
			width: 90%;
			max-width: 500px;
			color: #e0e0e0;
			z-index: 10000;
			box-shadow: 0 0 30px #00000080;
			transition: opacity 0.3s ease,
			transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
			max-height: 80vh;
			overflow-y: auto;
			}
			.宠物遮罩 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.75);
			z-index: 9999;
			}
			.宠物状态栏 {
			margin: 15px 0;
			}
			.条容器,
			.宠物经验条容器 {
			height: 20px;
			background: #333;
			border-radius: 10px;
			margin: 10px 0;
			position: relative;
			}
			.宠物血量条 {
			height: 100%;
			background: linear-gradient(90deg, #f44336, #ff7043);
			border-radius: 10px;
			transition: width 0.3s;
			}
			.宠物经验条 {
			height: 100%;
			background: linear-gradient(90deg, #2196f3, #4dabf5);
			border-radius: 10px;
			transition: width 0.3s;
			}
			.宠物血量文本,
			.宠物经验文本 {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			color: white;
			font-size: 0.9em;
			}
			.宠物属性 {
			display: flex;
			justify-content: space-between;
			margin-top: 10px;
			color: #ddd;
			font-size: 0.9em;
			}
			.宠物装备格子容器 {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 15px;
			margin-top: 15px;
			}
			.宠物装备格子 {
			border: 1px solid #555;
			padding: 10px;
			border-radius: 5px;
			position: relative;
			min-height: 80px;
			background: #2b2b2b;
			}
			.宠物装备槽位名 {
			position: relative;
			top: 4px;
			left: 10px;
			padding: 0 5px;
			font-size: 0.8em;
			color: #aaa;
			}
			.宠物装备选择按钮,
			.宠物装备卸下按钮 {
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.9) 30%,
			rgba(67, 160, 71, 0.9) 100%);
			box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3);
			color: #fff;
			border: 2px solid #fff;
			opacity: 0.95;
			border: none;
			border-radius: 5px;
			padding: 5px 10px;
			color: white;
			cursor: pointer;
			transition: background 0.2s;
			font-family: inherit;
			}
			.宠物装备卸下按钮 {
			background: linear-gradient(145deg,
			rgba(244, 67, 54, 0.9) 30%,
			rgba(206, 61, 49, 0.9) 100%);
			box-shadow: 0 4px 20px rgba(244, 67, 54, 0.3);
			position: absolute;
			bottom: 5px;
			right: 5px;
			}
			.宠物技能容器 {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 10px;
			margin-top: 15px;
			}
			.宠物技能 {
			border: 1px solid #555;
			padding: 10px;
			border-radius: 5px;
			background-color: #333;
			}
			.宠物装备选择弹窗 {
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			background: #1a1a1ae6;
			border: 2px solid #4a4a4a;
			border-radius: 12px;
			padding: 20px;
			width: 80%;
			max-width: 400px;
			color: #e0e0e0;
			z-index: 10001;
			box-shadow: 0 0 30px #00000080;
			transition: opacity 0.3s ease,
			transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
			max-height: 75vh;
			overflow: scroll;
			}
			.可装备物品容器 {
			max-height: 60vh;
			overflow-y: auto;
			/* 滚动 */
			padding: 10px;
			}
			/* 可选装备样式 */
			.宠物可选装备 {
			display: flex;
			align-items: center;
			padding: 8px;
			border: 1px solid #2c3e50;
			border-radius: 6px;
			margin-bottom: 5px;
			background-color: #41586b;
			transition: background-color 0.2s;
			}
			.宠物可选装备:hover {
			background-color: #546e7a;
			}
			.宠物装备名称 {
			position: relative;
			top: 4px;
			left: 2px;
			padding: 0 5px;
			font-size: 0.8em;
			color: #aaa;
			}
			.宠物可选装备图标 {
			font-family: "color-emoji";
			margin-right: 10px;
			font-size: 1.2em;
			}
			.宠物装备图标 {
			font-family: "color-emoji";
			}
			.宠物装备选择弹窗 .关闭按钮 {
			position: absolute;
			top: 10px;
			right: 10px;
			background: none;
			border: none;
			font-size: 1.5em;
			color: #e74c3c;
			cursor: pointer;
			padding: 5px;
			z-index: 1;
			}
			.宠物装备选择确认按钮 {
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.9) 30%,
			rgba(67, 160, 71, 0.9) 100%);
			box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
			color: #fff;
			border: none;
			border-radius: 5px;
			padding: 6px 12px;
			font-size: 0.9em;
			cursor: pointer;
			transition: background-color 0.2s, transform 0.2s;
			font-family: inherit;
			margin-left: auto;
			}
			.宠物装备选择确认按钮:hover {
			background: linear-gradient(145deg,
			rgba(67, 160, 71, 0.9) 30%,
			rgba(58, 140, 62, 0.9) 100%);
			transform: translateY(-2px);
			/* 上浮效果 */
			box-shadow: 0 4px 12px rgba(76, 175, 80, 0.5);
			}
			.通用按钮:hover {
			background: linear-gradient(145deg,
			rgba(67, 160, 71, 0.9) 30%,
			rgba(58, 140, 62, 0.9) 100%);
			transform: translateY(-2px);
			/* 上浮效果 */
			box-shadow: 0 4px 12px rgba(76, 175, 80, 0.5);
			}
			.宠物装备选择确认按钮:active {
			transform: scale(0.95);
			}
			.宠物可选装备 {
			padding: 10px;
			}
			.可装备物品容器 {
			max-height: 65vh;
			overflow-y: auto;
			padding: 10px;
			margin-bottom: 10px;
			}
			.宠物管理窗口,
			.宠物装备选择弹窗 {
			animation: 弹窗浮现 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			}
			.宠物可选装备 {
			justify-content: space-between;
			}
			.宠物基本信息面板 p,
			.宠物技能面板 p {
			line-height: 1.6;
			}
			.宠物已装备物品 {
			display: flex;
			align-items: center;
			justify-content: space-between;
			width: 100%;
			}
			/* 无装备提示 */
			.无装备提示,
			.无技能提示 {
			color: #aaa;
			text-align: center;
			padding: 20px;
			}
			.宠物管理窗口 .关闭按钮 {
			position: absolute;
			top: 10px;
			right: 10px;
			background: none;
			border: none;
			font-size: 1.5em;
			color: #e74c3c;
			cursor: pointer;
			transition: transform 0.3s;
			padding: 5px;
			}
			.宠物管理窗口 .关闭按钮:hover {
			color: #ff4081;
			transform: rotate(90deg);
			/* 旋转动画 */
			}
			.宠物管理窗口 .通用按钮 {
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.9) 30%,
			rgba(67, 160, 71, 0.9) 100%);
			box-shadow: 0 4px 20px #4caf504d;
			color: #fff;
			border: 2px solid #fff;
			opacity: 0.95;
			border: none;
			border-radius: 5px;
			padding: 5px 10px;
			color: white;
			cursor: pointer;
			transition: background-color 0.2s, transform 0.2s;
			font-family: inherit;
			margin-top: 10px;
			width: 100%;
			}
			.宠物血量标签 {
			position: absolute;
			bottom: 5px;
			left: 50%;
			transform: translateX(-50%);
			background: rgba(0, 0, 0, 0.7);
			color: #fff;
			padding: 2px 8px;
			border-radius: 4px;
			font-size: 0.75em;
			white-space: nowrap;
			z-index: 1;
			}
			/* --- 自定义确认对话框 --- */
			.确认对话框遮罩 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background: rgba(0, 0, 0, 0.6);
			backdrop-filter: blur(8px);
			z-index: 10008;
			/* 比死亡遮罩高一级 */
			display: flex;
			justify-content: center;
			align-items: center;
			animation: 界面浮现 0.3s ease;
			}
			.确认对话框 {
			background: linear-gradient(145deg, #1e0000, #3c0000);
			border: 2px solid #ff4444;
			border-radius: 12px;
			padding: 30px 40px;
			box-shadow: 0 0 30px rgba(255, 0, 0, 0.4);
			text-align: center;
			color: #e0e0e0;
			font-family: inherit;
			max-width: 80%;
			animation: 界面浮现 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			}
			.确认对话框 h3 {
			margin-top: 0;
			font-size: 1.4em;
			color: #ff8a80;
			text-shadow: 0 0 8px #ff0000;
			}
			.确认对话框 p {
			margin: 15px 0 25px 0;
			font-size: 1em;
			line-height: 1.6;
			color: #ccc;
			}
			.确认按钮容器 {
			display: flex;
			justify-content: center;
			gap: 20px;
			}
			.确认按钮 {
			padding: 12px 28px;
			font-size: 1.1em;
			border: none;
			border-radius: 8px;
			cursor: pointer;
			transition: all 0.3s ease;
			font-family: inherit;
			min-width: 120px;
			}
			.确认按钮-确认 {
			background: linear-gradient(145deg, #c62828, #e53935);
			color: white;
			}
			.确认按钮-确认:hover {
			background: linear-gradient(145deg, #d32f2f, #f44336);
			transform: translateY(-2px);
			box-shadow: 0 4px 15px rgba(255, 82, 82, 0.4);
			}
			.确认按钮-取消 {
			background: linear-gradient(145deg, #424242, #616161);
			color: #e0e0e0;
			}
			.确认按钮-取消:hover {
			background: linear-gradient(145deg, #616161, #757575);
			transform: translateY(-2px);
			box-shadow: 0 4px 15px rgba(100, 100, 100, 0.3);
			}
			/* --------------教程---------------*/
			.教程提示窗口 {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: linear-gradient(135deg, #282828f2, #3a3a3af2);
			color: #e0e0e0;
			padding: 20px 30px;
			border-radius: 12px;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6);
			z-index: 10002;
			width: 85%;
			text-align: center;
			border: 2px solid #4caf50;
			animation: 弹窗浮现 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			display: none;
			font-family: "HarmonyOS Sans SC", "MiSans", system-ui,
			"color-emoji";
			}
			.教程提示窗口 p {
			font-size: 1.1em;
			line-height: 1.5;
			margin-bottom: 15px;
			}
			.教程提示窗口 .关闭按钮 {
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.9) 30%,
			rgba(67, 160, 71, 0.9) 100%);
			box-shadow: 0 2px 8px #4caf5066;
			color: #fff;
			padding: 8px 16px;
			border: none;
			border-radius: 6px;
			cursor: pointer;
			transition: all 0.3s ease;
			font-size: 1em;
			font-family: inherit;
			}
			.教程提示窗口 .关闭按钮:hover {
			transform: translateY(-2px);
			box-shadow: 0 4px 12px #4caf5080;
			background: linear-gradient(145deg,
			rgba(67, 160, 71, 0.9) 30%,
			rgba(58, 140, 62, 0.9) 100%);
			}
			.教程提示窗口.关闭中 {
			animation: 弹窗消失 0.3s ease-out forwards;
			}
			@keyframes 弹窗消失 {
			to {
			opacity: 0;
			transform: translate(-50%, -50%) scale(0.9);
			}
			}
			#回放教程按钮 {
			position: fixed;
			right: 22px;
			width: 20vmin;
			}
			#教程回放窗口 {
			display: none;
			max-width: 90%;
			}
			.教程导航 {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin: 15px 0;
			color: #aaa;
			}
			.教程导航 button {
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.7) 30%,
			rgba(67, 160, 71, 0.7) 100%) !important;
			box-shadow: 0 2px 6px #4caf504d !important;
			padding: 6px 12px !important;
			font-size: 0.9em !important;
			}
			.教程导航 button:disabled {
			background: #555 !important;
			cursor: not-allowed;
			opacity: 0.6;
			box-shadow: none !important;
			}
			/* -----------设置----------*/
			.设置菜单 {
			position: fixed;
			bottom: -500px;
			right: 20px;
			background: #000000e5;
			border-radius: 12px;
			padding: 15px;
			transition: bottom 0.3s ease;
			z-index: 1003;
			text-align: center;
			}
			.设置菜单 button {
			display: block;
			width: 100%;
			margin: 10px 0;
			padding: 10px;
			background: linear-gradient(145deg,
			rgba(76, 175, 80, 0.9) 30%,
			rgba(67, 160, 71, 0.9) 100%);
			box-shadow: 0 4px 20px #4caf504d;
			color: #fff;
			border: 2px solid #fff;
			opacity: 0.95;
			border-radius: 8px;
			cursor: pointer;
			font-family: inherit;
			font-size: 1em;
			}
			.设置菜单 button:active {
			background: #45a049;
			transform: scale(0.9);
			box-shadow: 0 0 5px #4caf50cc;
			}
			.设置菜单.显示 {
			bottom: 160px;
			}
			.设置菜单.隐藏 {
			animation: 弹窗消失 0.3s ease-out forwards;
			}
			@keyframes 扭曲 {
			0% {
			transform: scale(1) skew(0deg);
			}
			25% {
			transform: scale(1.1) skew(5deg);
			}
			50% {
			transform: scale(0.9) skew(-5deg);
			}
			75% {
			transform: scale(1.05) skew(2deg);
			}
			100% {
			transform: scale(1) skew(0deg);
			opacity: 0;
			}
			}
			/* --- 传送菜单按钮 --- */
			#传送点菜单 {
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			background: #1a1a1ae6;
			border: 2px solid #4a4a4a;
			border-radius: 12px;
			padding: 20px;
			width: 80vmin;
			max-width: 600px;
			color: #e0e0e0;
			z-index: 10000;
			box-shadow: 0 0 30px #00000080;
			animation: 弹窗浮现 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			transition: opacity 0.3s ease,
			transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
			}
			#传送点菜单 .菜单操作按钮 {
			padding: 5px 10px;
			/* 统一基础内边距 */
			font-size: 0.9em;
			/* 统一基础字号 */
			border: 1px solid transparent;
			/* 初始透明边框 */
			border-radius: 5px;
			color: #e0e0e0;
			cursor: pointer;
			transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
			/* 平滑过渡 */
			font-family: inherit;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
			/* 基础阴影 */
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
			display: inline-flex;
			/* 保证图标和文字对齐 */
			align-items: center;
			gap: 4px;
			/* 图标和文字间距 */
			}
			#传送点菜单 .菜单操作按钮:hover {
			transform: translateY(-2px);
			/* 悬浮上移 */
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
			/* 更深的阴影 */
			}
			#传送点菜单 .菜单操作按钮:active {
			transform: translateY(0px) scale(0.95);
			/* 按下效果 */
			box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5);
			/* 内阴影 */
			}
			/* 传送按钮 (绿色系) */
			#传送点菜单 .传送菜单按钮-传送 {
			background: linear-gradient(145deg, #4caf50, #388e3c);
			border-color: #66bb6a;
			box-shadow: 0 2px 5px rgba(76, 175, 80, 0.3);
			}
			#传送点菜单 .传送菜单按钮-传送:hover {
			background: linear-gradient(145deg, #66bb6a, #4caf50);
			border-color: #81c784;
			box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
			}
			/* 删除按钮 (深红/灰红系) */
			#传送点菜单 .传送菜单按钮-删除 {
			background: linear-gradient(145deg, #7f0000, #9e2b25);
			/* 更深的红色 */
			border-color: #b71c1c;
			box-shadow: 0 2px 5px rgba(127, 0, 0, 0.3);
			}
			#传送点菜单 .传送菜单按钮-删除:hover {
			background: linear-gradient(145deg, #9e2b25, #b71c1c);
			border-color: #d32f2f;
			box-shadow: 0 4px 12px rgba(127, 0, 0, 0.4);
			}
			#传送点菜单 .传送菜单按钮-保存 {
			background: linear-gradient(145deg, #4caf50, #388e3c);
			/* 青色系 */
			border-color: #009688;
			box-shadow: 0 2px 5px rgba(0, 121, 107, 0.3);
			/* 微调标题栏内按钮的样式 */
			font-size: 0.9em;
			margin-left: 10px;
			}
			#传送点菜单 .传送菜单按钮-保存:hover {
			background: linear-gradient(145deg, #66bb6a, #4caf50);
			border-color: #81c784;
			box-shadow: 0 4px 12px rgba(0, 121, 107, 0.4);
			}
			#图鉴分区选择窗口 {
			position: fixed;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			background: #1a1a1ae6;
			border: 2px solid #4a4a4a;
			border-radius: 12px;
			padding: 20px;
			width: 80vmin;
			max-width: 600px;
			color: #e0e0e0;
			z-index: 10000;
			box-shadow: 0 0 30px #00000080;
			animation: 弹窗浮现 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			transition: opacity 0.3s ease,
			transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
			}
			#融合窗口 {
			position: absolute;
			bottom: 100%;
			/* 调整垂直位置，使其在背包上方或旁边 */
			right: 0%;
			/* 调整水平位置 */
			width: 330px;
			/* 根据需要调整宽度 */
			background: rgba(0, 0, 0, 0.9);
			padding: 15px;
			z-index: 1002;
			/* 比背包高一级 */
			display: flex;
			/* 改为 flex 布局 */
			flex-direction: column;
			/* 垂直排列 */
			align-items: center;
			/* 居中对齐 */
			gap: 10px;
			/* 元素间距 */
			box-shadow: 0 3px 15px rgba(0, 0, 0, 0.5);
			transition: opacity 0.3s ease, transform 0.3s ease;
			/* 添加过渡效果 */
			opacity: 0;
			/* 初始隐藏 */
			transform: translateX(20px);
			/* 初始向右偏移一点，用于动画 */
			pointer-events: none;
			/* 初始不可交互 */
			}
			#融合窗口.显示中 {
			opacity: 1;
			transform: translateX(0);
			pointer-events: auto;
			}
			.融合标题 {
			color: #4caf50;
			font-size: 1.1em;
			margin-bottom: 10px;
			text-align: center;
			width: 100%;
			}
			.融合区域 {
			display: grid;
			grid-template-columns: repeat(2, 60px);
			/* 2x2 网格 */
			grid-template-rows: repeat(2, 60px);
			gap: 8px;
			/* 格子间距 */
			margin-bottom: 10px;
			/* 与箭头间距 */
			justify-content: center;
			top: 5px;
			position: relative;
			}
			.融合区格子,
			.融合输出格子 {
			width: 60px;
			/* 格子大小 */
			height: 60px;
			background: rgba(255, 255, 255, 0.1);
			border: 1px dashed #555;
			/* 虚线边框 */
			border-radius: 6px;
			display: flex;
			align-items: center;
			justify-content: center;
			position: relative;
			/* 用于定位物品 */
			cursor: pointer;
			/* 添加指针手势 */
			}
			.融合区格子:hover,
			.融合输出格子:hover {
			background: rgba(255, 255, 255, 0.15);
			border-color: #888;
			}
			.融合箭头 {
			font-size: 1.8em;
			color: #888;
			margin: 0 10px;
			}
			#融合窗口 .物品条目 {
			transform: scale(0.65);
			/* 缩小物品显示 */
			padding: 0;
			margin: 0;
			border: none;
			/* 移除边框 */
			background: transparent;
			/* 透明背景 */
			box-shadow: none;
			width: 100%;
			height: 100%;
			cursor: pointer;
			/* 明确指针 */
			}
			#融合窗口 .物品条目 .物品图标 {
			font-size: 1.8em;
			/* 调整图标大小 */
			margin-bottom: 2px;
			}
			#融合窗口 .物品条目 .物品名称 {
			font-size: 0.7em;
			/* 调整名称大小 */
			display: none;
			/* 默认隐藏名称，空间太小 */
			}
			#融合窗口 .物品条目 .物品堆叠 {
			font-size: 0.6em;
			/* 调整堆叠数字大小 */
			bottom: 2px;
			right: 2px;
			padding: 1px 4px;
			}
			/* -------------地图编辑器------------ */
			#笔刷工具容器 {
				position: fixed;
				top: 215px;
				right: 5px;
				background: rgba(0,0,0,0.7);
				padding: 10px;
				border-radius: 8px;
				z-index: 999;
				display: none;
				flex-direction: column;
				gap: 10px;
				width: 150px;
				box-sizing: border-box;
			}
			.地图编辑器模式 #hudToggle {
			display: flex !important;
			}
			.地图编辑器模式 #hudToggle {
			pointer-events: auto;
			}
			设置项目 {
			display: flex;
			flex-direction: column;
			gap: 5px;
			}
			.设置项目 label {
			font-size: 0.9em;
			color: #ccc;
			}
			.设置项目 input {
			background: #333;
			border: 1px solid #555;
			color: #fff;
			padding: 8px;
			border-radius: 4px;
			width: 100%;
			box-sizing: border-box;
			}
			.天气选择容器 {
			grid-column: 1 / -1;
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
			gap: 10px;
			margin-top: 5px;
			}
			.天气选项 {
			display: flex;
			align-items: center;
			gap: 5px;
			font-size: 0.9em;
			}
			.天气选项 input {
			width: auto;
			}
			#游戏模式选择菜单 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background: linear-gradient(160deg, #0a0a0a 0%, #1a1a1a 100%);
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			z-index: 10004;
			opacity: 0;
			transition: opacity 0.5s ease-out;
			color: #e0e0e0;
			font-family: "HarmonyOS Sans SC", "MiSans", system-ui, "color-emoji";
			pointer-events: auto;
			}
			#游戏模式内容 {
			text-align: center;
			}
			#游戏模式标题 {
			font-size: 3.5rem;
			margin-bottom: 3rem;
			color: #e0e0e0;
			text-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
			}
			#游戏模式选项 {
			display: flex;
			flex-direction: column;
			gap: 1.5rem;
			}
			#effectsContainer {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			pointer-events: none;
			overflow: hidden;
			z-index: 997;
			}
			/*-------------结局界面-----------*/
			#结算界面遮罩 {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background: rgba(0, 0, 0, 0.8);
			backdrop-filter: blur(12px);
			z-index: 10009;
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0;
			pointer-events: none;
			transition: opacity 0.5s ease;
			overflow: hidden;
			}
			#结算粒子容器 {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			pointer-events: none;
			}
			.结算粒子 {
			position: absolute;
			bottom: -20px;
			width: 2px;
			height: 2px;
			background: rgba(255, 215, 0, 0.6);
			border-radius: 50%;
			animation: 粒子上浮 15s linear infinite;
			box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
			}
			@keyframes 粒子上浮 {
			from {
			transform: translateY(0) scale(1);
			opacity: 0.7;
			}
			to {
			transform: translateY(-105vh) scale(1.5);
			opacity: 0;
			}
			}
			.结算界面 {
			position: relative;
			background: linear-gradient(160deg, rgba(30, 30, 30, 0.95) 0%, rgba(10, 10, 10, 0.95) 100%);
			border: 1px solid rgba(255, 215, 0, 0.3);
			border-radius: 16px;
			padding: 30px 40px;
			box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
			text-align: center;
			color: #e0e0e0;
			font-family: inherit;
			width: 90%;
			max-width: 650px;
			transform: translateY(20px) scale(0.95);
			opacity: 0;
			transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
			}
			#结算界面遮罩.显示 {
			opacity: 1;
			pointer-events: auto;
			}
			#结算界面遮罩.显示 .结算界面 {
			transform: translateY(0) scale(1);
			opacity: 1;
			}
			.结算标题 {
			font-size: 2.2rem;
			color: #E0E0E0;
			text-shadow: none;
			margin-bottom: 20px;
			letter-spacing: 1px;
			font-weight: 300;
			}
			.结局评级 {
			font-family: "Arial Black", Gadget, sans-serif;
			font-size: 5rem;
			font-weight: bold;
			margin-bottom: 0px;
			display: inline-block;
			background: none;
			line-height: 1;
			animation: 评级出现 0.8s 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28) backwards;
			}
			.评级-S-plus {
			color: #ff00ff;
			text-shadow: 0 0 20px #ff00ff, 0 0 10px #ffd700;
			}
			.评级-S {
			color: #ff4500;
			text-shadow: 0 0 15px #ff4500;
			}
			.评级-A {
			color: #4caf50;
			text-shadow: 0 0 15px #4caf50;
			}
			.评级-B {
			color: #2196f3;
			text-shadow: 0 0 15px #2196f3;
			}
			.评级-C {
			color: #9e9e9e;
			text-shadow: 0 0 10px #9e9e9e;
			}
			.评级-D {
			color: #795548;
			text-shadow: 0 0 10px #795548;
			}
			.结束评语 {
			white-space: pre-wrap;
			font-style: italic;
			color: #bbb;
			margin-top: 5px;
			margin-bottom: 25px;
			height: 1.2em;
			animation: 评级出现 0.8s 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28) backwards;
			}
			.结算内容容器 {
			display: flex;
			gap: 30px;
			margin-bottom: 30px;
			}
			.结算统计容器,
			.结算时间轴 {
			flex: 1;
			text-align: left;
			}
			.结算时间轴 {
			border-left: 2px solid rgba(255, 215, 0, 0.2);
			padding-left: 20px;
			}
			.时间轴标题 {
			font-size: 1.1rem;
			color: #ffd700;
			margin-bottom: 15px;
			padding-bottom: 5px;
			border-bottom: 1px solid rgba(255, 215, 0, 0.2);
			}
			.时间轴事件 {
			position: relative;
			padding: 2px 0 15px 15px;
			font-size: 0.9rem;
			color: #ccc;
			opacity: 0;
			transform: translateX(-15px);
			animation: 统计条目出现 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
			}
			.时间轴事件::before {
			content: '';
			position: absolute;
			left: -27px;
			top: 7px;
			width: 9px;
			height: 9px;
			border-radius: 50%;
			background: #e0e0e0;
			border: 2px solid #1a1a1a;
			}
			.时间轴事件.关键::before {
			background: #ffd700;
			box-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
			}
			.结算统计容器 {
			display: flex;
			flex-direction: column;
			gap: 12px;
			}
			.统计条目 {
			background: none;
			padding: 0;
			border-left: none;
			}
			.统计标签 {
			font-size: 0.9rem;
			color: #aaa;
			}
			.统计数值 {
			font-size: 1.2rem;
			font-weight: normal;
			color: #fff;
			}
			.通关凭证容器 {
			margin-top: 20px;
			animation: 评级出现 0.8s 1.2s cubic-bezier(0.18, 0.89, 0.32, 1.28) backwards;
			}
			.结算统计容器 {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
			gap: 20px;
			margin-bottom: 30px;
			padding: 20px 0;
			border-top: 1px solid rgba(255, 215, 0, 0.2);
			border-bottom: 1px solid rgba(255, 215, 0, 0.2);
			}
			.统计条目 {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			background: none;
			padding: 0;
			border-left: none;
			opacity: 0;
			transform: translateY(20px);
			animation: 统计条目出现 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
			}
			.结算统计容器 .统计条目:nth-child(1) {
			animation-delay: 0.6s;
			}
			.结算统计容器 .统计条目:nth-child(2) {
			animation-delay: 0.7s;
			}
			.结算统计容器 .统计条目:nth-child(3) {
			animation-delay: 0.8s;
			}
			.结算统计容器 .统计条目:nth-child(4) {
			animation-delay: 0.9s;
			}
			.结算统计容器 .统计条目:nth-child(5) {
			animation-delay: 1.0s;
			}
			.结算统计容器 .统计条目:nth-child(6) {
			animation-delay: 1.1s;
			}
			.统计图标 {
			font-size: 2.5rem;
			line-height: 1;
			margin-bottom: 8px;
			color: #ffd700;
			text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
			}
			.统计数值 {
			font-size: 1.4rem;
			font-weight: bold;
			color: #fff;
			line-height: 1.2;
			}
			.统计标签 {
			font-size: 0.8rem;
			color: #aaa;
			margin-top: 2px;
			}
			@keyframes 统计条目出现 {
			from {
			opacity: 0;
			transform: translateY(20px);
			}
			to {
			opacity: 1;
			transform: translateY(0);
			}
			}
			/*-----------大地图窗口------------*/
			#大地图遮罩 {
    position: fixed;
    top: -5%;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(10px);
    z-index: 10020;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

#大地图遮罩.显示 {
    opacity: 1;
    pointer-events: auto;
}

#大地图窗口 {
    background: linear-gradient(160deg, #181818 0%, #282828 100%);
    border: 1px solid var(--ui-accent-color);
    border-radius: 16px;
    width: 95vw;
    height: 90vh;
    max-width: 1600px;
    max-height: 900px;
    box-shadow: 0 10px 60px rgba(0, 0, 0, 0.5);
    display: flex;
    flex-direction: column;
    transform: scale(0.95) translateY(10px);
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
}

#大地图遮罩.显示 #大地图窗口 {
    transform: scale(1) translateY(0);
}

.大地图头部 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 25px;
    border-bottom: 1px solid rgba(76, 175, 80, 0.3);
    flex-shrink: 0;
}

.大地图头部 h2 {
    margin: 0;
    font-size: 1.5em;
    color: var(--ui-accent-color);
    text-shadow: 0 0 8px var(--ui-accent-glow);
}

#大地图画布容器 {
    flex-grow: 1;
    position: relative;
    overflow: hidden;
    cursor: grab;
    background-color: var(--canvas-bg);
}

#大地图画布容器:active {
    cursor: grabbing;
}

#大地图画布 {
    position: absolute;
    top: 0;
    left: 0;
    image-rendering: pixelated;
}

.大地图控制栏 {
    display: flex;
    gap: 12px;
    padding: 12px 25px;
    border-top: 1px solid rgba(76, 175, 80, 0.3);
    background: rgba(0,0,0,0.2);
    flex-shrink: 0;
    justify-content: center;
}

.大地图控制栏 .菜单按钮 {
    padding: 8px 18px;
    font-size: 1.2rem;
    min-width: 50px;
    line-height: 1;
}

.大地图信息 {
    position: absolute;
    bottom: 10px;
    left: 10px;
    background: rgba(0,0,0,0.6);
    color: #ccc;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.8em;
    pointer-events: none;
    z-index: 1;
}
			/* -----------优化字体适配------------- */
			body,
        .hud,
        .控制按钮 {
            font-family: "HarmonyOS Sans SC", "MiSans", system-ui, "color-emoji";
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        @font-face {
            font-family: "color-emoji";
            src: local("Fluent Emoji Color"),
                url('../FluentEmojiColor.ttf') format('truetype'),
            
                local("Apple Color Emoji"),
                url('../AppleColorEmoji.woff') format('woff'),
                
                local("Segoe UI Emoji"),
                local("Segoe UI Symbol"),
                local("Noto Color Emoji"),
                local("Arial");
        }
			
		
